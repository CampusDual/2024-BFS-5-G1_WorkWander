<div class="card-detalle">
  <div class="button-back">
    <o-button attr="iconposition3" icon="arrow_back_ios" (click)="goBack()"></o-button>
  </div>
  <o-form #form attr="coworkingDetail" service="coworkings" entity="coworking" header-actions="R"
  show-header-navigation="no" keys="cw_id" keys-sql-types="integer" columns="cw_id;cw_name" header-position="false"
  layout-direction="row" detect-changes-on-blur="no"  undo-button="no" stay-in-record-after-insert="true"
  editable-detail="no">
      <div class="image-container">
        <!-- Campo para mostrar la imagen de coworking -->
        <div [ngClass]="{'hidden': !form.getFieldValue('cw_image')}">  <!-- Ocultaremos el div cuando no exista "cw_image" -->
          <!-- Necesitamos el o-image para que se carge la imagen en el campo cw_image del form, sino no existiría el cw_image -->
          <o-image  [ngClass]="{'hidden': !form.getFieldValue('cw_image')}" attr="cw_image"
            show-controls="no" read-only="yes" height="480px" width="450px" auto-fit="no"></o-image>
        </div>
          <img *ngIf="!form.getFieldValue('cw_image')" src="assets/images/image-default.jpg" alt="Imagen predeterminada"/>

      </div>
      <div class="info-container">
        <div>
          <o-text-input #name type="text" hidden="yes" attr="cw_name" fxFlex label="NAME" string-case="uppercase"></o-text-input>
          <h1>{{form.getFieldValue("cw_name")}}</h1>
        </div>
          <o-column class="detail-container">
            <o-text-input #location type="text" hidden="yes" attr="cw_location" fxFlex label="LOCATION" string-case="uppercase"></o-text-input>
            <p><strong>Localización:</strong> {{form.getFieldValue("cw_location")}}</p>

            <o-text-input #description type="text" hidden="yes" attr="cw_description" fxFlex label="DESCRIPTION" string-case="uppercase"></o-text-input>
            <p><strong>Descripción:</strong>  {{form.getFieldValue("cw_description")}}</p>
          </o-column>

        <div>
          <section class="services">

            <p><strong>Servicios:</strong></p>

            <o-grid #coworkingsGrid attr="coworkingsGrid" service="cw_services" entity="servicePerCoworking" keys="cw_id"
                    columns="servicios" parent-keys="cw_id" quick-filter="no" fixed-header="no" controls="false"
                    refresh-button="false" show-page-size="false" pagination-controls="false" show-buttons-text="no"
                    gutter-size="8px" rows="1" detail-mode="none" show-footer="no" grid-item-height="40px">

              <ng-container *ngIf="coworkingsGrid.dataArray.length > 0; else noServices">
                <o-grid-item *ngFor="let service of coworkingsGrid.dataArray">
                  <article *ngIf="serviceIcons[service.servicios]">
                    <mat-icon [matTooltip]="service.servicios | oTranslate">{{ serviceIcons[service.servicios] }}</mat-icon>
                  </article>
                </o-grid-item>
              </ng-container>

              <ng-template #noServices>
                <p>Sin servicios</p>
              </ng-template>
            </o-grid>

          </section>
        </div>

        <o-column  class="price-container">
          <o-text-input #capacity type="text" hidden="yes" attr="cw_capacity" fxFlex label="CAPACITY" string-case="uppercase"></o-text-input>
          <p><strong>Capacidad:</strong> {{form.getFieldValue("cw_capacity")}}</p>
          <o-text-input #dailyPrice type="text" hidden="yes" attr="cw_daily_price" fxFlex label="DAILY_PRICE" string-case="uppercase"></o-text-input>
          <p class="price"><strong>Precio:</strong> {{form.getFieldValue("cw_daily_price")}}€</p>
        </o-column>
      </div>
  </o-form>
</div>
