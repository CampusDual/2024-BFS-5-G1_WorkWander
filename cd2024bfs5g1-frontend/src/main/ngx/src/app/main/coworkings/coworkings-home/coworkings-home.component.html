<div class="grid-container">
<o-form show-header="no">
  <o-column-collapsible class="collapsible-container" attr="container" title="{{ 'FILTERS_COWORKING' | oTranslate }}"
  icon="filter_list" expanded="no">
    <div class="collapsible-container-items">
      <o-combo #locationField appearance="outline" label="LOCATION" id="cw_location" null-selection="no"
        attr="city" service="cities" entity="city" keys="id_city" value-column="city"
        columns="city" searchable="true" visible-columns="city" multiple="yes" translate="yes"
        fxFlex="100" fxFlex.gt-xs="37" fxFlex.gt-sm="18">
      </o-combo>
      <o-row class="btn-container">
        <button attr="filter" [oFilterBuilderQuery]="filterBuilder" query-on-change="true" type="RAISED" label="SEARCH" class="button btn-outline-light custom-button" matTooltip="{{ 'Search' | oTranslate }}">
          <mat-icon class="material-icons">search</mat-icon>
        </button>
        <button attr="clear" [oFilterBuilderClear]="filterBuilder" type="RAISED" label="CLEAR" class="button btn-outline-light custom-button" matTooltip="{{ 'Clear' | oTranslate }}" (click)="clearFilters()">
          <mat-icon class="material-icons">clear</mat-icon>
        </button>
      </o-row>

      <o-filter-builder #filterBuilder attr="thefilter"
        filters="cw_location:city"
        [target]="coworkingsGrid" query-on-change="no" query-on-change-delay="500"
        [expression-builder]="createFilter">
      </o-filter-builder>

    </div>
  </o-column-collapsible>
</o-form>

  <!-- Grid que muestra los datos de los coworkings -->
  <o-grid
    #coworkingsGrid
    attr="coworkingsGrid"
    title="COWORKINGS"
    service="coworkings"
    entity="serviceCoworking"
    keys="cw_id"
    columns="cw_id;cw_name;cw_location;cw_address;cw_daily_price;cw_description;cw_image;services"
    quick-filter-columns="cw_name;cw_description"
    pagination-controls="true"
    page-size-options="12;16;20"
    query-rows="12"
    grid-item-height="2.5:1"
    [cols]="gridCols"
    gutter-size="20px" pageable="yes">


    <o-grid-item *ngFor="let data of coworkingsGrid.dataArray" class="responsive-grid">
      <div class="coworking-card">
        <div class="image-container">
          <!-- Mostramos la imagen del coworking en las cards -->
          <img class="coworking-image" [src]="getImageSrc(data.cw_image)" alt="{{data.cw_name}}">
        </div>


        <div class="info">
          <h2 class="coworking-name">{{ data.cw_name }}</h2>


          <section class="services">
            <article *ngFor="let service of serviceList(data.services)">

              <article *ngIf="service=='additional_screen'"><mat-icon style="vertical-align:middle;" title="{{'additional_screen' | oTranslate}}">desktop_windows</mat-icon></article>
              <article *ngIf="service=='vending_machine'"><mat-icon style="vertical-align:middle;" title="{{'vending_machine' | oTranslate}}">kitchen</mat-icon></article>
              <article *ngIf="service=='coffee_bar'"><mat-icon style="vertical-align:middle;" title="{{'coffee_bar' | oTranslate}}">local_cafe</mat-icon></article>
              <article *ngIf="service=='water_dispenser'"><mat-icon style="vertical-align:middle;" title="{{'water_dispenser' | oTranslate}}">local_drink</mat-icon></article>
              <article *ngIf="service=='ergonomic_chair'"><mat-icon style="vertical-align:middle;" title="{{'ergonomic_chair' | oTranslate}}">event_seat</mat-icon></article>
              <article *ngIf="service=='parking'"><mat-icon style="vertical-align:middle;" title="{{'parking' | oTranslate}}">local_parking</mat-icon></article>

            </article>
          </section>
          <!--<div class="stars">
            <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
              <mat-icon class="star-icon" svgIcon="star" aria-hidden="true"></mat-icon>
            </ng-container>
          </div>-->
          <p class="location">{{ data.cw_location }}</p>
        </div>




        <div class="capacity-price-container">
          <div class="price-container">
            <span class="price">{{ data.cw_daily_price }}€</span>
          </div>
        </div> <!-- Cerradura corregida aquí -->


      </div>
    </o-grid-item>
  </o-grid>
</div>
