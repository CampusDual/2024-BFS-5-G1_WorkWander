<o-form class="form" attr="servicesForm" editable-detail="yes" show-header="no">
<!-- <o-column class="collapsible-container" attr="container" title="{{ 'SERVICES' | oTranslate }}"
    icon="filter_list" expanded="no"> -->
  <div class="filter-container">
    <o-combo
      #categoryField
      appearance="outline"
      label="servicios"
      id="service"
      null-selection="no"
      attr="srv_name"
      service="services"
      entity="service"
      keys="srv_id"
      value-column="srv_name"
      columns="srv_name"
      searchable="true"
      visible-columns="srv_name"
      multiple="yes"
      translate="yes"
      fxFlex="100"
      fxFlex.gt-xs="37"
      fxFlex.gt-sm="18"
      >
    </o-combo>
  </div>
  <!-- </o-column> -->

<o-row class="btn-container">
    <o-button
      attr="filter"
      [oFilterBuilderQuery]="filterBuilder"
      type="RAISED"
      label="Filter"
      class="filter-button"
    >
    <mat-icon class="material-icons">search</mat-icon>
  </o-button>
    <o-button
      attr="clear"
      [oFilterBuilderClear]="filterBuilder"
      type="RAISED"
      label="Clear"
      class="filter-button"
      (click)="clearFilters()"
    >
    <mat-icon class="material-icons">clear</mat-icon>
  </o-button> 

  </o-row>
  <o-row>
    <o-filter-builder
    #filterBuilder
    attr="thefilter"
      filters="services:srv_name"
      [target]="coworkingsGrid"
      query-on-change="no"
      query-on-change-delay="500"
      [expression-builder]="createFilter"
    >
  </o-filter-builder> 
</o-row>
</o-form>
  <!-- Grid que muestra los datos de los coworkings -->
  <div class="grid-container">
  <o-grid
    #coworkingsGrid
    attr="coworkingsGrid"
    title="COWORKINGS"
    service="coworkings"
    entity="serviceCoworking"
    keys="cw_id"
    columns="cw_id;cw_name;cw_location;cw_capacity;cw_daily_price;cw_description;cw_image;services"
    quick-filter-columns="cw_name;cw_description"
    pagination-controls="true"
    page-size-options="12;16;20"
    query-rows="12"
    grid-item-height="2.5:1"
    [cols]="gridCols"
    gutter-size="20px"
  >
    <o-grid-item
      *ngFor="let data of coworkingsGrid.dataArray"
      class="responsive-grid"
    >
      <div class="coworking-card">
        <div class="image-container">
          <!-- Mostramos la imagen del coworking en las cards -->
          <img
            class="coworking-image"
            [src]="getImageSrc(data.cw_image)"
            alt="{{ data.cw_name }}"
          />
        </div>
        <div class="info">
          <h2 class="coworking-name">{{ data.cw_name }}</h2>

          <section class="services">
            <article *ngFor="let service of serviceList(data.services)">
              <article *ngIf="service == 'additional_screen'">
                <img
                  src="assets/icons/desktop-computer.png"
                  alt="Pantalla adicional"
                  aria-label="Pantalla adicional"
                />
              </article>
              <article *ngIf="service == 'vending_machine'">
                <img
                  src="assets/icons/vending-machine.png"
                  alt="Máquina expendedora"
                  aria-label="Máquina expendedora"
                />
              </article>
              <article *ngIf="service == 'coffee_bar'">
                <img
                  src="assets/icons/coffee-shop.png"
                  alt="Café"
                  aria-label="Café"
                />
              </article>
              <article *ngIf="service == 'water_dispenser'">
                <img
                  src="assets/icons/water-dispenser.png"
                  alt="Dispensador de agua"
                  aria-label="Dispensador de agua"
                />
              </article>
              <article *ngIf="service == 'ergonomic_chair'">
                <img
                  src="assets/icons/chair.png"
                  alt="Silla ergonómica"
                  aria-label="Silla ergonómica"
                />
              </article>
              <article *ngIf="service == 'parking'">
                <img
                  src="assets/icons/parking.png"
                  alt="Parking"
                  aria-label="Parking"
                />
              </article>
            </article>
          </section>
          <!--<div class="stars">
            <ng-container *ngFor="let star of [1, 2, 3, 4, 5]">
              <mat-icon class="star-icon" svgIcon="star" aria-hidden="true"></mat-icon>
            </ng-container>
          </div>-->
          <p class="location">{{ data.cw_location }}</p>
        </div>

        <div class="capacity-price-container">
          <div class="price-container">
            <span class="price">{{ data.cw_daily_price }}€</span>
          </div>
        </div>
        <!-- Cerradura corregida aquí -->
      </div>
    </o-grid-item>
  </o-grid>
</div>
